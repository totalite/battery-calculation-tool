<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TotaLite Battery Calculator</title>
<style>
body{font-family:Arial;background:#f0f0f0;padding:20px;margin:0}
.container{max-width:800px;margin:0 auto;background:white;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
h1{color:#333;margin-top:0}
.input-group{margin:20px 0}
label{display:block;margin-bottom:5px;font-weight:bold;color:#555}
input,select{width:100%;padding:8px;font-size:14px;box-sizing:border-box;border:1px solid #ddd;border-radius:4px}
input[type="range"]{cursor:pointer}
.result{background:#e3f2fd;padding:20px;margin-top:30px;border-radius:5px;border-left:4px solid #2196F3}
.result h2{color:#1976d2;margin-top:0}
.result-item{margin:10px 0;font-size:16px;color:#333}
.result-item strong{color:#1976d2}
.fixed-config{background:#f5f5f5;padding:15px;border-radius:5px;border:1px solid #ddd;margin:20px 0}
.fixed-config h3{margin:0 0 10px 0;color:#555;font-size:14px}
.fixed-config ul{margin:5px 0;padding-left:20px}
.fixed-config li{color:#666;font-size:14px}
</style>
</head>
<body>
<div class="container">
<h1>ðŸ”‹ TotaLite Battery Calculator</h1>
<p style="color:#666;margin-bottom:30px">Calculate battery requirements for your TotaLite deployment. Includes 30% safety margin for battery degradation.</p>

<div class="input-group">
<label>LED Power: <span id="ledval">50</span>%</label>
<input type="range" id="led" min="5" max="100" step="5" value="50" oninput="calc()">
</div>

<div class="input-group">
<label>Measurement Interval:</label>
<select id="interval" onchange="calc()">
<option value="300">5 minutes</option>
<option value="900" selected>15 minutes</option>
<option value="1800">30 minutes</option>
<option value="3600">1 hour</option>
<option value="14400">4 hours</option>
<option value="86400">24 hours</option>
</select>
</div>

<div class="input-group">
<label>Deployment Duration (days):</label>
<input type="number" id="days" value="30" min="1" oninput="calc()">
</div>

<div class="input-group">
<label>Temperature:</label>
<select id="temp" onchange="calc()">
<option value="0" selected>Normal (10-40Â°C)</option>
<option value="0.071">Cold (below 10Â°C)</option>
</select>
</div>

<div class="input-group">
<label>LTE Coverage:</label>
<select id="lte" onchange="calc()">
<option value="1" selected>Good</option>
<option value="1.15">Poor</option>
</select>
</div>

<div class="fixed-config">
<h3>Fixed Configuration:</h3>
<ul>
<li>Integration Cycles: <strong>3 cycles</strong></li>
<li>Input Voltage: <strong>12V DC</strong></li>
<li>Power Supply: <strong>1.5A</strong></li>
</ul>
</div>

<div class="result">
<h2>ðŸ“Š Battery Requirements</h2>
<div class="result-item">Required Capacity: <strong id="ah">0</strong> Ah at <strong>12V</strong></div>
<div class="result-item">Total Energy: <strong id="wh">0</strong> Wh (with 30% safety margin)</div>
<div class="result-item">Average Power Draw: <strong id="pw">0</strong> W</div>
<div class="result-item">Recommended Battery: <strong id="rec">0</strong> Ah or higher</div>
</div>
</div>

<script>
function calc(){
var l=Number(document.getElementById('led').value);
var i=Number(document.getElementById('interval').value);
var d=Number(document.getElementById('days').value);
var t=Number(document.getElementById('temp').value);
var lt=Number(document.getElementById('lte').value);
var v=12;
var c=3;
document.getElementById('ledval').innerHTML=l;
var p=0.00233*l+0.3367;
p=p+t;
p=p*lt;
var dur=380+((100-l)/90)*20;
var idle=i-dur;
if(idle<0)idle=0;
var avgP=((p*dur)+(0.066*idle))/i;
var totWh=avgP*d*24;
var reqWh=totWh*1.3;
var reqAh=reqWh/v;
var recAh=Math.ceil(reqAh/10)*10;
document.getElementById('ah').innerHTML=reqAh.toFixed(1);
document.getElementById('wh').innerHTML=reqWh.toFixed(0);
document.getElementById('pw').innerHTML=avgP.toFixed(3);
document.getElementById('rec').innerHTML=recAh;
}
window.onload=function(){calc()};
</script>
</body>
</html>
